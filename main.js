!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=3)}([function(e,n){class t extends HTMLElement{constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.observer}set observer(e){this.observer=e}set character({id:e,image:n,name:t,species:o}){const r=document.createElement("style"),a=document.createElement("template");a.innerHTML=`\n    <div class="card">\n        <figure>\n          <img id="character" src=${n} alt=${t}>\n        </figure>\n        <div class="description">\n          <p>${t} (${o})</p>\n          <a href='#/${e}'>Detail</a>\n        </div>\n    </div>`,r.textContent="\n      figure, p,h1 {\n        padding: 0;\n        margin: 0;\n      }\n      .card{\n        border-radius: 10px;\n        background-color: #292e3a;\n        color: #ffffff;\n        padding: 10px;\n        width: 304px;\n      }\n\n      .card:hover{\n        background-color: #444a56;\n      }\n  \n      .card figure{\n        margin-bottom: 10px;\n      }\n  \n      .card .description {\n        background-color: #171c28;\n        border-radius: 10px;\n        display: flex;\n        padding: 10px;\n        justify-content: space-between;\n        align-items: center;\n      }\n\n      a {\n        color: #FFFFFF;\n        text-decoration: none;\n        background-color: red;\n        padding: 10px;\n        border-radius: 5px;\n      }\n      ",this.root.append(a.content.cloneNode(!0)),this.root.appendChild(r)}connectedCallback(){}disconnectedCallback(){}}customElements.define("btaj-card",t)},function(e,n){class t extends HTMLElement{constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.id}set character({id:e,image:n,name:t,status:o,episode:r,species:a,gender:c,origin:i,location:s}){this.id=e;const d=document.createElement("style"),l=document.createElement("template");l.innerHTML=`\n    <div class="content">\n      <div class="card">\n          <figure>\n            <img id="character" src=${n} alt=${t}>\n          </figure>\n          <div class="description">\n            <h2>Name: ${t}</h2>\n            <p>Episodes: ${r.length}</p>\n            <p>Status: ${o}</p>\n            <p>Species: ${a}</p>\n            <p>Gender: ${c}</p>\n            <p>Origin: ${i.name}</p>\n            <p>Last Location: ${s.name}</p>\n          </div>\n      </div>\n    </div>\n    `,d.textContent="\n      figure, p,h1 {\n        padding: 0;\n        margin: 0;\n      }\n\n      .content{\n        display: flex;\n        justify-content: center;\n      }\n      .card{\n        border-radius: 10px;\n        background-color: #292e3a;\n        color: #ffffff;\n        padding: 10px;\n        width: 300px;\n      }\n\n      .card:hover{\n        background-color: #444a56;\n      }\n  \n      .card .description {\n        background-color: #171c28;\n        border-radius: 10px;\n        padding: 10px;\n      }\n      ",this.root.append(l.content.cloneNode(!0)),this.root.appendChild(d)}connectedCallback(){}disconnectedCallback(){}}customElements.define("btaj-detail",t)},function(e,n){class t extends HTMLElement{constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.id}set character({id:e,image:n,name:t,status:o,episode:r,species:a,gender:c,origin:i,location:s}){this.id=e;const d=document.createElement("style"),l=document.createElement("template");l.innerHTML='\n    <div class="content">\n      <div class="card">\n          <h1>404: Not Found</h1>\n      </div>\n    </div>\n    ',d.textContent="\n      .content{\n        display: flex;\n        justify-content: center;\n      }\n      .card{\n        border-radius: 10px;\n        background-color: #292e3a;\n        color: #ffffff;\n        padding: 10px;\n        width: 300px;\n      }\n\n      .card:hover{\n        background-color: #444a56;\n      }\n      ",this.root.append(l.content.cloneNode(!0)),this.root.appendChild(d)}connectedCallback(){}disconnectedCallback(){}}customElements.define("btaj-notfound",t)},function(e,n,t){"use strict";t.r(n);t(0);const o="https://rickandmortyapi.com/api/character/",r=async(e=o)=>{const n=e;try{const e=await fetch(n);return await e.json()}catch(e){console.log("Fetch Error",e)}};class a extends HTMLElement{constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.observer,this.footer,this.nextUrl,this.homeElement}async connectedCallback(){const e=document.createElement("style");e.textContent="\n      btaj-home {\n        display: grid;\n        grid-template-columns: repeat(auto-fill, 320px);\n      }\n    ",this.append(e),await this.getDateCharacters(),this.footer=document.getElementById("footer"),this.observer=new IntersectionObserver(this.handleIntersection.bind(this),{rootMargin:"0px 0px 100% 0px"}),this.observer.observe(this.footer)}async getDateCharacters(e){const n=await r(e);this.nextUrl=n.info.next,n.results.forEach(e=>{this.appendCharacter(e)})}appendCharacter(e){const n=document.createElement("btaj-card");n.character=e,this.root.appendChild(n)}disconnectedCallback(){this.observer.unobserve(this.footer,()=>{console.log("Not more")})}handleIntersection(){this.nextUrl&&this.getDateCharacters(this.nextUrl)}}let c;customElements.define("btaj-home",a);var i=()=>location.hash.slice(1).toLocaleLowerCase().split("/")[1]||"/";t(1);const s=async()=>{const e=i(),n=await(async e=>{const n=`${o}${e}`;try{const e=await fetch(n);return await e.json()}catch(e){console.log("Fetch Error",e)}})(e),t=document.getElementById("content");t.innerHTML="";const r=document.createElement("btaj-detail");r.character=n,t.appendChild(r)};t(2);const d=()=>{(()=>{const e=document.getElementById("content"),n=document.createElement("btaj-notfound");e.appendChild(n)})()};var l=e=>{if(e.length<=3){return"/"===e?e:"/:id"}return`/${e}`};const p={"/":async()=>{await async function(e){try{const n=await r(e),t=document.getElementById("content"),o=document.createElement("btaj-home");t.appendChild(o),c=n.info.next,n.results.forEach(e=>{o.character=e})}catch(e){alert(e)}}()},"/:id":async()=>{await s()}};var u=async()=>{let e=i(),n=await l(e),t=p[n]?p[n]:d;document.getElementById("content").innerHTML="",t()};window.addEventListener("load",u),window.addEventListener("hashchange",u)}]);